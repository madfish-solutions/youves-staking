import smartpy as sp

ASK_FEE_BITSHIFT = 2  # expressed in bitshifts ==> 2**-2 ~= 25 % fee
BID_FEE_BITSHIFT = 4  # expressed in bitshifts ==> 2**-4 ~= 6.25 % fee

ADVERTISE_TIME_WINDOW_IN_SECONDS = 24*60*60
OPTION_TIME_WINDOW_IN_SECONDS = 2*24*60*60

DECIMALS = 12
PRECISION_FACTOR = 10**DECIMALS  # use base 2 for bitshifts

MAX_STABLE_TOKEN_BITSHIFT = 2  # 25%

SCALING_FACTOR_ONE = 2
SCALING_FACTOR_TWO = 35

SECONDS_INTEREST_SPREAD = 316 # (1+(316/10**12))**(60*60*24*365) --> approx 1% yearly

SECONDS_INTEREST_MINIMUM = 128 # (1+(128/10**12))**(60*60*24*365) --> approx 0.4% yearly
SECONDS_INTEREST_MAXIMUM = 8192 # (1+(8192/10**12))**(60*60*24*365) --> approx 29.5% yearly

FX_MULTIPLIER = 100

REFERENCE_TIMESTAMP = 577800  # Wednesday 16:30 January 8. 1970
REFERENCE_INTEREST_UPDATE_INTERVAL = 7*24*60*60

HOURS_PER_WEEK = 7*24
SECONDS_PER_HOUR = 60*60
SECONDS_PER_DAY = 60*60*24

TARGET_COLLATERALIZATION_FACTOR = 3
PRECISION_TARGET_COLLATERALIZATION_FACTOR = PRECISION_FACTOR * \
    TARGET_COLLATERALIZATION_FACTOR
EMERGENCY_COLLATERALIZATION_FACTOR = 2

PRICE_TO_DECIMALS_CONVERSION = 10**6 # the price is in mutez, which means 10**6 our decimals are 10**12 -> 10**6

TIMEDELTA = 60*60*24
PRECISION_FACTOR_NAT = sp.nat(PRECISION_FACTOR)
TARGET_THRESHOLD = sp.nat(1)  # with a precision factor of 100 this is 1%

MINTING_FEE_BITSHIFT = 6  # expressed in bitshifts ==> 2**-6 ~= 1.56 % fee
LIQUIDATION_REWARD_BITSHIFT = 3  # expressed in bitshifts ==> 2**-3 = 12.5 % fee
TREASURY_REWARD_BITSHIFT = 3 # expressed in bitshifts ==> 2**-3 = 12.5 % reward

SECONDS_PER_WEEK = HOURS_PER_WEEK*SECONDS_PER_HOUR
SECONDS_PER_52WEEK = 52*SECONDS_PER_WEEK

GOVERNANCE_TOKEN_ISSUANCE_RATE = 66137566137 # (40000*10**12)/(7*24*60*60)
GOVERNANCE_TOKEN_ISSUANCE_START_TIMESTAMP = sp.timestamp(0)#sp.timestamp(1620482400)
DEFAULT_ADDRESS = sp.address("tz1RKmJwoAiaqFdjQYSbFy1j7u7UhEFsqXq7")

GOVERNANCE_TOKEN_ID =sp.nat(0)
DEFAULT_TOKEN_ID =sp.nat(0)

ISSUANCE_PHASE_INTERVAL = 364*24*60*60
MIN_AMOUNT_THRESHOLD = sp.mutez(1000) #this is used to mitigate drainage attacks
MIN_TOKEN_AMOUNT_THRESHOLD = 10**9 #this is used to mitigate drainage attacks


ORACLE_EPOCH_INTERVAL = 900 # this is 15 minutes
